language: node_js
node_js:
- '7'
install:
- npm install NeApp/neon-extension-framework#$TRAVIS_BRANCH > /dev/null 2>&1 && echo "Installed NeApp/neon-extension-framework#$TRAVIS_BRANCH" || true
- npm install
- npm dedupe
- npm ls
- npm install coveralls
script:
- npm run test
- npm run lint
- if [ ! -f ./Build/Coverage/lcov.info ]; then exit 1; fi
after_success:
- cat ./Build/Coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js
deploy:
  provider: npm
  email: neapp-ci@me.dgardiner.net
  api_key:
    secure: B8Ar5y+jw76NXsW9IqZVZ6A7zVDUqANSh6/ZvUWqFXDP/7to7raGduvrfXu/YZacZwsQeDNmhJ+wHdSUkd7WR63vpiv5cZ65+YLrAkzfy2HvJ+CQsbF89Bv51kXW43NRaHn4xp7GdMgW+Od5QeOvBQytq49tyJ5UlbfoyoIttA0NBtEfMl0mUoTt9vMs6WRNmWN8yFQ6Ro/pVzZIZ2ovhot6EG7nv0zinKNSM6cg4s32dWq7dSgoM2C0G+4oc4jFz1UeY4SM6xxmIZzFsZmPgPAq8spLC1vQGOQbYQRRTFq8/MAGNeba+HsU0VO3+uykIlIVM/zIp1UnP278wtC+Fk3p0u/mMbNOKYfWsAam+/WV34Z1Lg3bQkH4TVQQc+BVnIn6rIV5Jj3cUnRKLZm2y8D69/GXcedpUFpNLKf9dseEyhajoMlznx5RRFuFVgOIqjrzONmLlDH/D6SF69aay5uGbs/UefneZav9wWFVHIWZeHSqHVA5X/Vz9IsP20adDR5XMNaDGL8W30WgECSq4z18O7LhKPrbGCpwQ8vuCn/Nyz1n3HADy2MJHD5erNF0+Gj9vWDauEpz4tSq8vQJYILMSNBZ0PCxixtv+ynPS5sQoduTKHjrLuNFl25nVKdzxvPkqmYaClJeML38Hkt2o3YUf6sGNTXmPOif8FBsmnI=
  on:
    repo: NeApp/neon-extension-core
    tags: true
